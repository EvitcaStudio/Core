/**
 * core@1.2.0 https://github.com/EvitcaStudio/Core
 * Compiled 1/24/2024, 12:45:34 PM UTC
 * 
 * core is licensed under a MIT styled License. See LICENSE.md for more info.
 * 
 * Copyright 2024, Evitca Studio, All Rights Reserved
 */
 var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={},s=(t.d(e,{Q:()=>Mt}),{d:(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),i={},r=(s.d(i,{k:()=>h}),{d:(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),a={};r.d(a,{Y:()=>n});class n{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var o=a.Y;class h{constructor({start:t={},end:e={},duration:s=1e3,easing:i=h.linear}={}){this._build(t,e,s,i)}static linear(t,e,s,i){return s*t/i+e}static easeInQuad(t,e,s,i){return s*(t/=i)*t+e}static easeOutQuad(t,e,s,i){return-s*(t/=i)*(t-2)+e}static easeInOutQuad(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e}static easeInSine(t,e,s,i){return-s*Math.cos(t/i*(Math.PI/2))+s+e}static easeOutSine(t,e,s,i){return s*Math.sin(t/i*(Math.PI/2))+e}static easeInOutSine(t,e,s,i){return-s/2*(Math.cos(Math.PI*t/i)-1)+e}static easeInExpo(t,e,s,i){return 0==t?e:s*Math.pow(2,10*(t/i-1))+e}static easeOutExpo(t,e,s,i){return t==i?e+s:s*(1-Math.pow(2,-10*t/i))+e}static easeInOutExpo(t,e,s,i){return 0==t?e:t==i?e+s:(t/=i/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(2-Math.pow(2,-10*--t))+e}static easeInCirc(t,e,s,i){return-s*(Math.sqrt(1-(t/=i)*t)-1)+e}static easeOutCirc(t,e,s,i){return s*Math.sqrt(1-(t=t/i-1)*t)+e}static easeInOutCirc(t,e,s,i){return(t/=i/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e}static easeInCubic(t,e,s,i){return s*(t/=i)*t*t+e}static easeOutCubic(t,e,s,i){return s*((t=t/i-1)*t*t+1)+e}static easeInOutCubic(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e}static easeInQuart(t,e,s,i){return s*(t/=i)*t*t*t+e}static easeOutQuart(t,e,s,i){return-s*((t=t/i-1)*t*t*t-1)+e}static easeInOutQuart(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e}static easeInQuint(t,e,s,i){return s*(t/=i)*t*t*t*t+e}static easeOutQuint(t,e,s,i){return s*((t=t/i-1)*t*t*t*t+1)+e}static easeInOutQuint(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e}static easeInElastic(t,e,s,i){var r,a=s;return 0==t?e:1==(t/=i)?e+s:(r=.3*i,s=a<Math.abs(s)?(a=s,r/4):0===s&&0===a?r/(2*Math.PI)*Math.asin(1):r/(2*Math.PI)*Math.asin(s/a),-a*Math.pow(2,10*--t)*Math.sin((t*i-s)*(2*Math.PI)/r)+e)}static easeOutElastic(t,e,s,i){var r,a,n=s;return 0==t?e:1==(t/=i)?e+s:(a=.3*i,r=n<Math.abs(s)?(n=s,a/4):0===s&&0===n?a/(2*Math.PI)*Math.asin(1):a/(2*Math.PI)*Math.asin(s/n),n*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/a)+s+e)}static easeInOutElastic(t,e,s,i){var r,a,n=s;return 0==t?e:2==(t/=i/2)?e+s:(a=i*(.3*1.5),r=n<Math.abs(s)?(n=s,a/4):0===s&&0===n?a/(2*Math.PI)*Math.asin(1):a/(2*Math.PI)*Math.asin(s/n),t<1?n*Math.pow(2,10*--t)*Math.sin((t*i-r)*(2*Math.PI)/a)*-.5+e:n*Math.pow(2,-10*--t)*Math.sin((t*i-r)*(2*Math.PI)/a)*.5+s+e)}static easeInBack(t,e,s,i){return s*(t/=i)*t*(2.70158*t-1.70158)+e}static easeOutBack(t,e,s,i){return s*((t=t/i-1)*t*(2.70158*t+1.70158)+1)+e}static easeInOutBack(t,e,s,i){var r=1.70158;return(t/=i/2)<1?s/2*(t*t*((1+(r*=1.525))*t-r))+e:s/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e}static easeInBounce(t,e,s,i){return s-h.easeOutBounce(i-t,0,s,i)+e}static easeOutBounce(t,e,s,i){return(t/=i)<1/2.75?7.5625*s*t*t+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e}static easeInOutBounce(t,e,s,i){return t<.5*i?.5*h.easeInBounce(2*t,0,s,i)+e:.5*h.easeOutBounce(2*t-i,0,s,i)+.5*s+e}static _clamp(t,e=0,s=1){return Math.max(e,Math.min(t,s))}static _hexToRgb(t){return t=(t=3===(t=t.replace("#","")).length?t.replace(new RegExp("(.)","g"),"$1$1"):t).match(new RegExp("..","g")),[h._clamp(parseInt(t[0],16),0,255),h._clamp(parseInt(t[1],16),0,255),h._clamp(parseInt(t[2],16),0,255)]}static _rgbToHex(t){if(Array.isArray(t))return"#"+t.map(t=>Math.abs(Math.round(t)).toString(16).padStart(2,"0")).join("")}version="1.0.0";_build(t,e,s,i){this.start=t,this.end=e,this.duration=s,this.easing="function"==typeof i?i:h.linear,this.events={},this.exportedValues={},this.tweening=!1,this.update=null,this.paused=!1,this.lastTime=0,this.elapsed=0}build({start:t={},end:e={},duration:s=1e3,easing:i=h.linear}={}){return this._build(t,e,s,i),this}on(t,e){if("function"==typeof e)switch(t){case"start":case"end":case"pause":case"resume":this.events[t]=e;break;default:l.prefix("Tween-Module").error(`The event "${t}" is not supported.`)}else l.prefix("Tween-Module").error(`The callback for event "${t}" is not a function.`);return this}animationFrame=()=>{if(this.tweening&&!this.paused){var i,r,t=Date.now();this.lastTime||(this.lastTime=t),this.elapsed+=t-this.lastTime;let s=this.elapsed/this.duration;for(i in 1<(s=this.oscillating?(1-Math.cos(s*Math.PI))/2:s)&&(s=1),this.end){let t=this.start[i],e=this.end[i];"string"==typeof t&&(3===t.length||6===t.length)||4===t.length||7===t.length?(t=h._hexToRgb(t),e=h._hexToRgb(e),r=[this.easing(s,t[0],e[0]-t[0],1),this.easing(s,t[1],e[1]-t[1],1),this.easing(s,t[2],e[2]-t[2],1)],this.exportedValues[i]=h._rgbToHex(r)):this.exportedValues[i]=this.easing(s,t,e-t,1)}this.update(this.exportedValues),1!==s||this.oscillating?requestAnimationFrame(this.animationFrame):(this.stop(),this.events.end&&this.events.end()),this.lastTime=t}};animate(s,i=!1){if("function"!=typeof s)l.prefix("Tween-Module").error("The pUpdate parameter passed to animate is not a function.");else if(!this.tweening){let t=Object.keys(this.start),e=Object.keys(this.end);if(t.length&&e.length){if(t.every(t=>e.includes(t)))return this.update=s,this.tweening=!0,this.elapsed=0,this.oscillating=i,this.events.start&&this.events.start(),requestAnimationFrame(this.animationFrame),this;l.prefix("Tween-Module").error("The end object is missing properties that the start object has.")}else l.prefix("Tween-Module").error("The start object or the end object has no properties.")}}resume(){return this.paused&&(this.lastTime=Date.now(),this.paused=!1,this.events.resume&&this.events.resume(),requestAnimationFrame(this.animationFrame)),this}pause(){return this.paused||(this.paused=!0,this.events.pause&&this.events.pause()),this}stop(){this.tweening=!1,this.oscillating=!1,this.update=null,this.elapsed=0,this.lastTime=0,this.paused=!1;for(const t in this.exportedValues)this.exportedValues.hasOwnProperty(t)&&delete this.exportedValues[t]}}const l=new o;l.registerType("Tween-Module","#ff6600");var u=i.k,c={d:(t,e)=>{for(var s in e)c.o(e,s)&&!c.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},d={},p=(c.d(d,{P:()=>O}),{d:(t,e)=>{for(var s in e)p.o(e,s)&&!p.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),m={},f=(p.d(m,{k:()=>E}),{d:(t,e)=>{for(var s in e)f.o(e,s)&&!f.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),g={};f.d(g,{Y:()=>y});class y{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var T=g.Y;class E{constructor({start:t={},end:e={},duration:s=1e3,easing:i=E.linear}={}){this._build(t,e,s,i)}static linear(t,e,s,i){return s*t/i+e}static easeInQuad(t,e,s,i){return s*(t/=i)*t+e}static easeOutQuad(t,e,s,i){return-s*(t/=i)*(t-2)+e}static easeInOutQuad(t,e,s,i){return(t/=i/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e}static easeInSine(t,e,s,i){return-s*Math.cos(t/i*(Math.PI/2))+s+e}static easeOutSine(t,e,s,i){return s*Math.sin(t/i*(Math.PI/2))+e}static easeInOutSine(t,e,s,i){return-s/2*(Math.cos(Math.PI*t/i)-1)+e}static easeInExpo(t,e,s,i){return 0==t?e:s*Math.pow(2,10*(t/i-1))+e}static easeOutExpo(t,e,s,i){return t==i?e+s:s*(1-Math.pow(2,-10*t/i))+e}static easeInOutExpo(t,e,s,i){return 0==t?e:t==i?e+s:(t/=i/2)<1?s/2*Math.pow(2,10*(t-1))+e:s/2*(2-Math.pow(2,-10*--t))+e}static easeInCirc(t,e,s,i){return-s*(Math.sqrt(1-(t/=i)*t)-1)+e}static easeOutCirc(t,e,s,i){return s*Math.sqrt(1-(t=t/i-1)*t)+e}static easeInOutCirc(t,e,s,i){return(t/=i/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e}static easeInCubic(t,e,s,i){return s*(t/=i)*t*t+e}static easeOutCubic(t,e,s,i){return s*((t=t/i-1)*t*t+1)+e}static easeInOutCubic(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t+e:s/2*((t-=2)*t*t+2)+e}static easeInQuart(t,e,s,i){return s*(t/=i)*t*t*t+e}static easeOutQuart(t,e,s,i){return-s*((t=t/i-1)*t*t*t-1)+e}static easeInOutQuart(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t+e:-s/2*((t-=2)*t*t*t-2)+e}static easeInQuint(t,e,s,i){return s*(t/=i)*t*t*t*t+e}static easeOutQuint(t,e,s,i){return s*((t=t/i-1)*t*t*t*t+1)+e}static easeInOutQuint(t,e,s,i){return(t/=i/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e}static easeInElastic(t,e,s,i){var r,a=s;return 0==t?e:1==(t/=i)?e+s:(r=.3*i,s=a<Math.abs(s)?(a=s,r/4):0===s&&0===a?r/(2*Math.PI)*Math.asin(1):r/(2*Math.PI)*Math.asin(s/a),-a*Math.pow(2,10*--t)*Math.sin((t*i-s)*(2*Math.PI)/r)+e)}static easeOutElastic(t,e,s,i){var r,a,n=s;return 0==t?e:1==(t/=i)?e+s:(a=.3*i,r=n<Math.abs(s)?(n=s,a/4):0===s&&0===n?a/(2*Math.PI)*Math.asin(1):a/(2*Math.PI)*Math.asin(s/n),n*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/a)+s+e)}static easeInOutElastic(t,e,s,i){var r,a,n=s;return 0==t?e:2==(t/=i/2)?e+s:(a=i*(.3*1.5),r=n<Math.abs(s)?(n=s,a/4):0===s&&0===n?a/(2*Math.PI)*Math.asin(1):a/(2*Math.PI)*Math.asin(s/n),t<1?n*Math.pow(2,10*--t)*Math.sin((t*i-r)*(2*Math.PI)/a)*-.5+e:n*Math.pow(2,-10*--t)*Math.sin((t*i-r)*(2*Math.PI)/a)*.5+s+e)}static easeInBack(t,e,s,i){return s*(t/=i)*t*(2.70158*t-1.70158)+e}static easeOutBack(t,e,s,i){return s*((t=t/i-1)*t*(2.70158*t+1.70158)+1)+e}static easeInOutBack(t,e,s,i){var r=1.70158;return(t/=i/2)<1?s/2*(t*t*((1+(r*=1.525))*t-r))+e:s/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e}static easeInBounce(t,e,s,i){return s-this.easeOutBounce(i-t,0,s,i)+e}static easeOutBounce(t,e,s,i){return(t/=i)<1/2.75?7.5625*s*t*t+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e}static easeInOutBounce(t,e,s,i){return t<.5*i?.5*this.easeInBounce(2*t,0,s,i)+e:.5*this.easeOutBounce(2*t-i,0,s,i)+.5*s+e}static _clamp(t,e=0,s=1){return Math.max(e,Math.min(t,s))}static _hexToRgb(t){return t=(t=3===(t=t.replace("#","")).length?t.replace(new RegExp("(.)","g"),"$1$1"):t).match(new RegExp("..","g")),[E._clamp(parseInt(t[0],16),0,255),E._clamp(parseInt(t[1],16),0,255),E._clamp(parseInt(t[2],16),0,255)]}static _rgbToHex(t){if(Array.isArray(t))return"#"+t.map(t=>Math.abs(Math.round(t)).toString(16).padStart(2,"0")).join("")}version="1.0.0";_build(t,e,s,i){this.start=t,this.end=e,this.duration=s,this.easing="function"==typeof i?i:E.linear,this.events={},this.exportedValues={},this.tweening=!1,this.update=null,this.paused=!1,this.lastTime=0,this.elapsed=0}build({start:t={},end:e={},duration:s=1e3,easing:i=E.linear}={}){return this._build(t,e,s,i),this}on(t,e){if("function"==typeof e)switch(t){case"start":case"end":case"pause":case"resume":this.events[t]=e;break;default:M.prefix("Tween-Module").error(`The event "${t}" is not supported.`)}else M.prefix("Tween-Module").error(`The callback for event "${t}" is not a function.`);return this}animationFrame=()=>{if(this.tweening&&!this.paused){var i,r,t=Date.now();this.lastTime||(this.lastTime=t),this.elapsed+=t-this.lastTime;let s=this.elapsed/this.duration;for(i in 1<(s=this.oscillating?(1-Math.cos(s*Math.PI))/2:s)&&(s=1),this.end){let t=this.start[i],e=this.end[i];"string"==typeof t&&(3===t.length||6===t.length)||4===t.length||7===t.length?(t=E._hexToRgb(t),e=E._hexToRgb(e),r=[this.easing(s,t[0],e[0]-t[0],1),this.easing(s,t[1],e[1]-t[1],1),this.easing(s,t[2],e[2]-t[2],1)],this.exportedValues[i]=E._rgbToHex(r)):this.exportedValues[i]=this.easing(s,t,e-t,1)}this.update(this.exportedValues),1!==s||this.oscillating?requestAnimationFrame(this.animationFrame):(this.stop(),this.events.end&&this.events.end()),this.lastTime=t}};animate(s,i=!1){if("function"!=typeof s)M.prefix("Tween-Module").error("The pUpdate parameter passed to animate is not a function.");else if(!this.tweening){let t=Object.keys(this.start),e=Object.keys(this.end);if(t.length&&e.length){if(t.every(t=>e.includes(t)))return this.update=s,this.tweening=!0,this.elapsed=0,this.oscillating=i,this.events.start&&this.events.start(),requestAnimationFrame(this.animationFrame),this;M.prefix("Tween-Module").error("The end object is missing properties that the start object has.")}else M.prefix("Tween-Module").error("The start object or the end object has no properties.")}}resume(){return this.paused&&(this.lastTime=Date.now(),this.paused=!1,this.events.resume&&this.events.resume(),requestAnimationFrame(this.animationFrame)),this}pause(){return this.paused||(this.paused=!0,this.events.pause&&this.events.pause()),this}stop(){this.tweening=!1,this.oscillating=!1,this.update=null,this.elapsed=0,this.lastTime=0,this.paused=!1;for(const t in this.exportedValues)this.exportedValues.hasOwnProperty(t)&&delete this.exportedValues[t]}}const M=new T;M.registerType("Tween-Module","#ff6600");var _=m.k;class b{soundPath=null;startTime=null;endTime=null;save=null;duration=null;source=null;gainNode=null;loaded=!1;playAfterLoad=!1;muted=!1;state=null;startedTimeStamp=null;pausedTimeStamp=0;playUnfocused=null;fader={};events={};stopSignal=!1;_loop=!1;_playbackRate=1;_volume=100;_info={soundPath:null,duration:null};constructor(t,e,s,i,r,a,n,o){this.build(t,e,s,i,r,a,n,o)}get volume(){return this._volume}set volume(t){this._volume=O.constructor.clamp(t,O.constructor.MIN_VOLUME,O.constructor.MAX_VOLUME),this.loaded&&(this.gainNode.gain.value=O.constructor.normalize(this._volume))}on(t,e){if("function"==typeof e)switch(t){case"start":case"stop":case"end":case"pause":case"resume":this.events[t]=e;break;default:O.logger.prefix("Resonance-Module").error(`The event "${t}" is not supported.`)}else O.logger.prefix("Resonance-Module").error(`The callback for event "${t}" is not a function.`);return this}toggleMute(){if(this.loaded&&this.source)return this.muted=!this.muted,this.muted?this.gainNode.gain.value=0:this.gainNode.gain.value=O.constructor.normalize(this._volume),this}get loop(){return this._loop}set loop(t){this._loop=!!t,this.source&&(this.source.loop=this._loop)}toggleLoop(){return this._loop=!this._loop,this.source&&(this.source.loop=this._loop),this}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=O.constructor.clamp(t,1,O.constructor.MAX_PLAYBACK_RATE),this.source&&(this.source.playbackRate.value=this._playbackRate)}set info(t){this._info=this._info}get info(){return this.loaded&&this.source&&(this._info.duration=this.duration),this._info.soundPath=this.soundPath,{...this._info}}build(t,e=100,s=0,i=0,r=!1,a=!1,n=1,o=!1){this.soundPath=t,this.startTime=Math.max(s,0),this.endTime=Math.max(i,0),this.save=!!o||r,this._playbackRate=O.constructor.clamp(n,1,O.constructor.MAX_PLAYBACK_RATE),this.playUnfocused=!!a,this.state=null,this._loop=!!o,this._volume=O.constructor.clamp(e,O.constructor.MIN_VOLUME,O.constructor.MAX_VOLUME),O.loadedBuffers[this.soundPath]?this.loaded=!0:this.load()}load(){const e=new XMLHttpRequest,s=this;e.open("GET",s.soundPath),e.responseType="arraybuffer",e.onload=function(){var t=e.response;O.audioCtx.decodeAudioData(t,t=>{s.loaded=!0,O.loadedBuffers[s.soundPath]=t,s.playAfterLoad&&(s.stopSignal?s.stopSignal=!1:s.play())},t=>{s.loaded=!1,O.logger.prefix("Resonance-Module").error(`Error with decoding audio data "${s.soundPath}" This sound has been killed.`),s.kill()})},e.send()}pause(){if(this.loaded)return this.stop("suspended"),this.state="suspended",this.pausedTimeStamp=O.audioCtx.currentTime-this.startedTimeStamp,O.soundsPlaying.includes(this)&&O.soundsPlaying.splice(O.soundsPlaying.indexOf(this),1),O.pausedSounds.includes(this)||O.pausedSounds.push(this),"function"==typeof this.events.pause&&this.events.pause(),this}resume(){if(this.loaded)return O.pausedSounds.includes(this)&&O.pausedSounds.splice(O.pausedSounds.indexOf(this),1),O.soundsPlaying.includes(this)||O.soundsPlaying.push(this),this.play(!0),this.state=this.fader.raf?"fading":"playing","function"==typeof this.events.resume&&this.events.resume(),this}stop(t){var e;if(this.source)return e="playing"===this.state||"fading"===this.state||"suspended"===this.state,O.soundsPlaying.includes(this)&&O.soundsPlaying.splice(O.soundsPlaying.indexOf(this),1),this.source&&(this.source.stop||(this.source.stop=this.source.noteOff),this.source.stop(),this.source.disconnect(),this.gainNode.disconnect(),this.source=null,this.gainNode=null),this.state=t||"stopped","stopped"===this.state&&e&&"function"==typeof this.events.stop&&this.events.stop(),this;this.stopSignal=!0}play(t){if(this.soundPath&&"recycled"!==this.state&&O.canPlaySound())if(this.loaded||O.loadedBuffers[this.soundPath]){if(O.focused||this.canPlayUnfocused()){this.source&&(this.source.disconnect(),this.gainNode.disconnect(),this.source=null,this.gainNode=null),O.pausedSounds.includes(this)&&O.pausedSounds.splice(O.pausedSounds.indexOf(this),1);const e=O.audioCtx.createBufferSource(),s=O.audioCtx.createGain(),i=this;return s.gain.value=O.constructor.normalize(this._volume),s.connect(O.gainNode),e.connect(s),e.buffer=O.loadedBuffers[this.soundPath],e.playbackRate.value=this._playbackRate,e.onended=function(){"stopped"===i.state&&i.save||("restart"!==i.state?"suspended"!==i.state&&("stopped"!==i.state&&"function"==typeof i.events.end&&i.events.end(),i._loop?i.play():i.save||i.kill()):i.play())},this.source=e,this.gainNode=s,this.duration=e.buffer.duration,this.playAfterLoad=null,e.start||(e.start=e.noteOn),e.start(0,this.pausedTimeStamp?this.pausedTimeStamp*this._playbackRate:this.startTime,this.endTime||this.duration),this.state="playing",this.startedTimeStamp=O.audioCtx.currentTime-(this.pausedTimeStamp||this.startTime),this.pausedTimeStamp=0,O.soundsPlaying.includes(this)||O.soundsPlaying.push(this),t||"function"!=typeof this.events.start||this.events.start(),this}O.queuedSoundsToPlay.includes(this)||O.queuedSoundsToPlay.push(this)}else this.playAfterLoad=!0}restart(){return this.stop("restart"),this}canPlayUnfocused(){return!!this.playUnfocused}kill(){if(this.wipe(),O.recycledSounds.length<O.constructor.MAX_RECYCLED_SOUNDS)O.recycledSounds.push(this);else for(const t in this)delete this[t]}wipe(){this.onStarted=null,this.onStopped=null,this.onEnded=null,this.onSuspended=null,this.onResumed=null,this.stop("wipe"),cancelAnimationFrame(this.fader.raf),this.source&&(this.source.disconnect(),this.gainNode.disconnect()),this.soundPath=null,this.startTime=null,this.endTime=null,this.save=null,this.duration=null,this._playbackRate=1,this.source=null,this.gainNode=null,this.loaded=!1,this.playAfterLoad=null,this.state="recycled",this.startedTimeStamp=null,this.pausedTimeStamp=0,this.playUnfocused=null,this.fader.duration=this.fader.currentIteration=this.fader.initialValue=this.fader.changeInValue=this.fader.totalIterations=this.fader.startStamp=this.fader.previousTimeStamp=this.fader.durationOffScreen=this.fader.queue=this.fader.raf=null,this.stopSignal=!1,this._loop=!1,this._volume=100,this._info.soundPath=this._info.duration=null;for(const t in this.events)delete this.events[t];O.soundsPlaying.includes(this)&&O.soundsPlaying.splice(O.soundsPlaying.indexOf(this),1),O.pausedSounds.includes(this)&&O.pausedSounds.splice(O.pausedSounds.indexOf(this),1),O.queuedSoundsToPlay.includes(this)&&O.queuedSoundsToPlay.splice(O.queuedSoundsToPlay.indexOf(this),1),O.queuedSoundsToFade.includes(this)&&O.queuedSoundsToFade.splice(O.queuedSoundsToFade.indexOf(this),1)}getCurrentTime(){return this.pausedTimeStamp?this.pausedTimeStamp*this._playbackRate:this.startedTimeStamp?O.audioCtx.currentTime-this.startedTimeStamp:0}fade(s=100,t=5e3,i="easeOutCubic",r){if(!isNaN(s)&&!(isNaN(t)||"playing"!==this.state&&O.focused)){if(!O.focused&&!this.canPlayUnfocused())return O.queuedSoundsToFade.includes(this)?void 0:(this.fader.queue={volume:s,duration:t,ease:i,callback:r},void O.queuedSoundsToFade.push(this));Tween[i]||(i="easeOutCubic",O.logger.prefix("Resonance-Module").warn("Resonance: Invalid pEase value. Reverted to default.")),this.fader.queue&&(this.fader.queue=null),s=O.constructor.clamp(s,O.constructor.MIN_VOLUME,O.constructor.MAX_VOLUME),this.fader.duration=Math.max(t,0),this.fader.currentIteration=0,this.fader.initialValue=this._volume,this.fader.changeInValue=s-this.fader.initialValue,this.fader.totalIterations=this.fader.duration/(1e3/O.constructor.FRAME_RATE),this.fader.startStamp=null,this.fader.previousTimeStamp=null,this.fader.durationOffScreen=[0,0],this.state="fading";const a=this,n=function(t){var e;O.focused?(null===a.fader.startStamp&&(a.fader.startStamp=t),a.volume=Tween[i](a.fader.currentIteration,a.fader.initialValue,a.fader.changeInValue,a.fader.totalIterations),a.fader.durationOffScreen[1]&&(a.fader.durationOffScreen[0]+=a.fader.durationOffScreen[1],a.fader.durationOffScreen[1]=0),e=t-a.fader.durationOffScreen[0]-a.fader.startStamp,a.fader.currentIteration<a.fader.totalIterations&&a.fader.currentIteration++,e<a.fader.duration?(a.fader.previousTimeStamp=t,a.fader.raf=requestAnimationFrame(n)):(cancelAnimationFrame(a.fader.raf),a.fader.duration=a.fader.currentIteration=a.fader.initialValue=a.fader.changeInValue=a.fader.totalIterations=a.fader.startStamp=a.fader.previousTimeStamp=a.fader.durationOffScreen=a.fader.queue=a.fader.raf=null,a.state="playing",a.volume=s,"function"==typeof r&&r())):(a.fader.raf=requestAnimationFrame(n),a.fader.durationOffScreen[1]=t-a.fader.previousTimeStamp)};return this.fader.raf=requestAnimationFrame(n),this}}queuedFade(){this.fader.queue&&this.fade(this.fader.queue.volume,this.fader.queue.duration,this.fader.queue.ease,this.fader.queue.callback)}}var C={d:(t,e)=>{for(var s in e)C.o(e,s)&&!C.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},S={};C.d(S,{Y:()=>v});class v{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var A=S.Y;class R{static MAX_VOLUME=200;static MIN_VOLUME=-200;static MAX_RECYCLED_SOUNDS=500;static MAX_PLAYBACK_RATE=10;static FRAME_RATE=60;static clamp=(t,e,s)=>Math.max(e,Math.min(t,s));static normalize=(t,e=0,s=100,i=1)=>(t-e)/(s-e)*i;version="1.0.0";constructor(){window.AudioContext||window.webkitAudioContext?(this.logger=new A,this.logger.registerType("Resonance-Module","#ff6600"),window.AudioContext=window.AudioContext||window.webkitAudioContext,window.addEventListener("mousedown",this.resumeAudioCtx.bind(this)),window.addEventListener("touchstart",this.resumeAudioCtx.bind(this)),window.addEventListener("load",this.resumeAudioCtx.bind(this)),window.addEventListener("blur",()=>{this.focused=!1,this.soundsPlaying.length&&this.pauseAllSounds(!0)}),window.addEventListener("focus",()=>{this.focused=!0,this.pausedSounds.length&&this.resumeAllSounds(!0),(this.queuedSoundsToPlay.length||this.queuedSoundsToFade.length)&&this.playQueuedSounds()}),this.audioCtx=new AudioContext,!this.audioCtx.createGain&&this.audioCtx.createGainNode&&(this.audioCtx.createGain=this.audioCtx.createGainNode),this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=R.normalize(R.MAX_VOLUME),this.gainNode.connect(this.audioCtx.destination),this.soundsPlaying=[],this.pausedSounds=[],this.recycledSounds=[],this.queuedSoundsToPlay=[],this.queuedSoundsToFade=[],this.loadedBuffers={},this.fader={},this.volume=100,this.muted=!1,this.state=null,this.focused=!0,this.abilityToPlaySound=null):this.logger.prefix("Resonance-Module").error("Your device does not support window.AudioContext || window.webkitAudioContext. This library cannot be used")}canPlaySound(){return!(this.abilityToPlaySound&&!this.abilityToPlaySound())}enableChecker(t){return"function"==typeof t&&(this.abilityToPlaySound=t),this}adjustVolume(t){return this.volume=R.clamp(t,R.MIN_VOLUME,R.MAX_VOLUME),this.gainNode.gain.value=R.normalize(this.volume),this}fade(s=100,t=5e3,i="easeOutCubic",r){if(!isNaN(s)&&!isNaN(t)&&"fading"!==this.state){s=R.clamp(s,R.MIN_VOLUME,R.MAX_VOLUME),_[i]||this.logger.prefix("Resonance-Module").error("Invalid pEase value. Reverted to default."),this.state="fading",this.fader.duration=Math.max(t,0),this.fader.currentIteration=0,this.fader.initialValue=this.volume,this.fader.changeInValue=s-this.fader.initialValue,this.fader.totalIterations=this.fader.duration/(1e3/R.FRAME_RATE),this.fader.startStamp=null,this.fader.previousTimeStamp=null,this.fader.durationOffScreen=[0,0];const a=this,n=function(t){var e;a.focused?(null===a.fader.startStamp&&(a.fader.startStamp=t),a.adjustVolume(_[i](a.fader.currentIteration,a.fader.initialValue,a.fader.changeInValue,a.fader.totalIterations)),a.fader.durationOffScreen[1]&&(a.fader.durationOffScreen[0]+=a.fader.durationOffScreen[1],a.fader.durationOffScreen[1]=0),e=t-a.fader.durationOffScreen[0]-a.fader.startStamp,a.fader.currentIteration<a.fader.totalIterations&&a.fader.currentIteration++,e<a.fader.duration?(a.fader.previousTimeStamp=t,a.fader.raf=requestAnimationFrame(n)):(cancelAnimationFrame(a.fader.raf),a.fader.duration=a.fader.currentIteration=a.fader.initialValue=a.fader.changeInValue=a.fader.totalIterations=a.fader.startStamp=a.fader.previousTimeStamp=a.fader.durationOffScreen=a.fader.raf=null,a.state=null,a.adjustVolume(s),"function"==typeof r&&r())):(a.fader.raf=requestAnimationFrame(n),a.fader.durationOffScreen[1]=t-a.fader.previousTimeStamp)};return this.fader.raf=requestAnimationFrame(n),this}}toggleMute(){return this.muted=!this.muted,this.muted?(this._previousGainNodeValue=this.gainNode.gain.value,this.gainNode.gain.value=0):this.gainNode.gain.value=this._previousGainNodeValue||1,this}isMuted(){return this.muted}emit(e,s=100,i=0,r,a=1){if(this.canPlaySound()){const n=this,o=n.audioCtx.createBufferSource(),h=(o.kill=function(){this.buffer?this.stop():this.queuedToStop=!0},function(){var t=n.audioCtx.createGain();t.gain.value=R.normalize(R.clamp(s,R.MIN_VOLUME,R.MAX_VOLUME)),t.connect(n.gainNode),o.connect(t),o.buffer=n.loadedBuffers[e],o.playbackRate.value=a,o.start||(o.start=o.noteOn),o.start(0,i,r||o.buffer.duration)});if(this.loadedBuffers[e])h();else{const s=new XMLHttpRequest;s.open("GET",e),s.responseType="arraybuffer",s.onload=function(){var t=s.response;n.audioCtx.decodeAudioData(t,t=>{n.loadedBuffers[e]=t,o.queuedToStop||h()},t=>{this.logger.prefix("Resonance-Module").error(`Error with decoding audio data "${e}"`)})},s.send()}return o}}createSound(t,e,s,i,r,a,n,o){var h;return this.recycledSounds.length?((h=this.recycledSounds.pop()).build(t,e,s,i,r,a,n,o),h):new b(t,e,s,i,r,a,n,o)}stopAllSounds(e){for(let t=this.soundsPlaying.length-1;0<=t;t--){var s=this.soundsPlaying[t];Array.isArray(e)&&e.includes(s)||s.stop()}return this}killAllSounds(){for(let t=this.soundsPlaying.length-1;0<=t;t--)this.soundsPlaying[t].kill();return this}pauseAllSounds(e){for(let t=this.soundsPlaying.length-1;0<=t;t--){var s=this.soundsPlaying[t];e&&s.canPlayUnfocused()||s.pause()}return this}resumeAllSounds(t){for(let t=this.pausedSounds.length-1;0<=t;t--)this.pausedSounds[t].resume();return this}playQueuedSounds(){for(let t=this.queuedSoundsToPlay.length-1;0<=t;t--){var e=this.queuedSoundsToPlay[t];this.queuedSoundsToPlay.splice(t,1),e.play()}for(let t=this.queuedSoundsToFade.length-1;0<=t;t--){var s=this.queuedSoundsToFade[t];this.queuedSoundsToFade.splice(t,1),s.queuedFade()}}unloadSound(t){return this.loadedBuffers[t]&&delete this.loadedBuffers[t],this}recycleSound(t){return t instanceof b&&t.kill(),this}resumeAudioCtx(){"running"!==this.audioCtx.state&&this.audioCtx.resume().then(()=>{},()=>{}),this.ready=!0}}const O=new R;var x=d.P,G={d:(t,e)=>{for(var s in e)G.o(e,s)&&!G.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},I={},P=(G.d(I,{P:()=>B}),{d:(t,e)=>{for(var s in e)P.o(e,s)&&!P.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),w={};P.d(w,{Y:()=>L});class L{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var k=w.Y;class H{version="1.0.0";static DiobConstructor=(()=>{var t=VYLO.newDiob(),e=t.__proto__.constructor;return VYLO.delDiob(t),e})();collectionLimit=20;static WARNING_LIMIT=200;basicCollection=[];constructor(){this.logger=new k,this.logger.registerType("Collector-Module","#ff6600")}setMaxLimit(t){"number"==typeof t&&(this.collectionLimit=Math.round(t),this.collectionLimit>B.WARNING_LIMIT)&&this.logger.prefix("Collector-Module").warn("Collector: This is a high value to use for a max limit in a collection! Only use this high of a value if you know what you are doing.")}collect(e,s){const i=Array.isArray(e);if(e)if("object"!=typeof e||i||Object.keys(e).length)if(e.type||i){if(Array.isArray(s)){if(s.includes(e))return void this.logger.prefix("Collector-Module").error("Collector: OOPS! %cpCollected","font-weight: bold","already belongs to the provided collection.");if(i&&!e.length)return void this.logger.prefix("Collector-Module").error("Collector: OOPS! %cpCollected","font-weight: bold","is an array. But it contains nothing to recycle.");if(i){if(s.length>=this.collectionLimit){for(let t=e.length-1;0<=t;t--){const i=e[t];i instanceof H.DiobConstructor?(this.cleanInstance(i),VYLO.delDiob(i)):(this.cleanInstance(i),VYLO.delObject(i))}return}if(e.length+s.length>this.collectionLimit)for(let t=e.length-(this.collectionLimit-s.length);0<t;t--){const s=e[t];s instanceof H.DiobConstructor?(e.splice(t,1),this.cleanInstance(s),VYLO.delDiob(s)):(e.splice(t,1),this.cleanInstance(s),VYLO.delObject(s))}for(let t=e.length-1;0<=t;t--){var r=e[t];"function"==typeof r.onCollected&&r.onCollected(),s.includes(r)||s.push(r),this.cleanInstance(r)}return}return s.length>=this.collectionLimit?void(e instanceof H.DiobConstructor?(this.cleanInstance(e),VYLO.delDiob(e)):(this.cleanInstance(e),VYLO.delObject(e))):("function"==typeof e.onCollected&&e.onCollected(),s.includes(e)||s.push(e),void this.cleanInstance(e))}this.logger.prefix("Collector-Module").error("Collector: Invalid variable type passed for the %cpCollection","font-weight: bold","parameter. Expecting an array. Collect failed.")}else this.logger.prefix("Collector-Module").error("Collector: OOPS! %cpCollected","font-weight: bold"," is not a valid object It has no type.");else this.logger.prefix("Collector-Module").error("Collector: OOPS! %cpCollected","font-weight: bold"," is an empty object and will NOT be collected.");else this.logger.prefix("Collector-Module").error("Collector: There was nothing passed for the %cpCollected","font-weight: bold","parameter. Expecting a instance or an object.")}isInCollection(e="Diob",s=1,i=[],...r){var a,n=[];let o=0,h=s,l=!VYLO.Type.getVariable(e,"baseType");if(i.length){for(let t=i.length-1;0<=t;t--)h&&(a=i[t]).type===e&&(i.splice(t,1),n.push(a),a.collectorCollected=!1,"function"==typeof a.onDumped&&a.onDumped(...r),o++,h--);if(s>o){const i=s-o;for(let t=0;t<i;t++)n.push(l?VYLO.newObject(e,...r):VYLO.newDiob(e,...r))}}else for(let t=0;t<s;t++)n.push(l?VYLO.newObject(e,...r):VYLO.newDiob(e,...r));return 1===n.length?n.pop():n}cleanInstance(t){if(t){if(t instanceof H.DiobConstructor){var e="Interface"===t.baseType||"Interface"===t.type||VYLO.Type.getInheritances(t.type).includes("Interface");t.color&&("object"==typeof t.color&&t.color.constructor===Object?(t.color.tint=16777215,t.color=t.color):t.color=null),"object"==typeof t.scale?(t.scale.x=t.scale.y=1,t.scale=t.scale):t.scale=1,e&&(t.hide(),"server"!==VYLO.World.getCodeType())&&VYLO.Client.removeInterfaceElement(t.getInterfaceName(),t,!0),t.playAnimation(),t.setTransition(),t.angle=0,t.alpha=1,t.xPos=0,t.yPos=0,e||(t.mapName=null,t.setLoc()),t.text="",t.composite="","Movable"===t.baseType&&t.move();for(const e of t.getOverlays())t.removeOverlay(e.type);for(const e of t.getFilters())t.removeFilter(e)}t.collectorCollected=!0,t.inTicker=null,"function"==typeof t.clean&&t.clean()}}}const B=new H;var N=I.P,F={d:(t,e)=>{for(var s in e)F.o(e,s)&&!F.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},D={};F.d(D,{_:()=>Y});class Y{MIN_TICK_RATE=10;timeScale=1;flow=1;startMs=0;startStamp=0;currentTick=0;tickRate=10;scaledTickRate=1;lastStamp=0;expectedStamp=0;canFinish=!0;deltaTime=0;duration=1/0;loop=!1;hasDuration=!1;completionCount=0;acceptedEvents=["tick","complete","rollback","destroy","pause","resume","start","stop","reset"];onHandler={};timeHandler={};intervalHandler={};ticking=!1;paused=!1;storedIDs=[];timeoutId=0;constructor(t){if("object"!=typeof t||Array.isArray(t)||null===t||("number"==typeof t.duration&&(this.duration=Math.max(Math.round(t.duration),this.tickRate),this.hasDuration=!0),"number"==typeof t.startAt&&this.startAtHandler(t.startAt),"number"==typeof t.flow&&(this.flow=this.clamp(t.flow,-1,1)),"number"==typeof t.tickRate&&(this.tickRate=Math.max(Math.round(t.tickRate),this.MIN_TICK_RATE)),"number"==typeof t.completionCount&&(this.completionCount=Math.round(t.completionCount)),"number"==typeof t.timeScale&&(this.timeScale=t.timeScale),this.loop=!!t.loop),globalThis.document){let t,e;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),document.addEventListener(e,()=>{document[t]?this.pause():this.resume()},!1)}const s=this;s.adjuster=()=>{var t,e;s.isTicking()&&(t=Date.now(),s.lastStamp||(s.lastStamp=t),s.expectedStamp||(s.expectedStamp=t),e=t-s.lastStamp,s.deltaTime=e/1e3,s.scaledTickRate=s.tickRate/this.timeScale,e=this.clamp(t-s.expectedStamp,0,this.scaledTickRate),s.expectedStamp=t+s.scaledTickRate,s.adjustedTickRate=s.scaledTickRate-e,s.timeoutId=setTimeout(s.adjuster,s.adjustedTickRate),s.isPaused()||(s.now=t,s.tick(s.deltaTime),s.eventHandler()),s.lastStamp=t)}}getTimeScale(){return this.timeScale}getStartStamp(){return this.startStamp}getDeltaTime(){return this.deltaTime}getMs(){return this.ticksToTime(this.currentTick)}getCurrentTick(){return this.currentTick}getCompletionCount(){return this.completionCount}getFlow(){return this.flow}getDuration(){return this.duration}setDuration(t){return"number"==typeof t&&(t=Math.round(t),this.duration=t,this.startAt(this.startMs)),this}getPercentage(){return this.hasDuration?100*this.getMs()/this.duration:0}getMsFromSeconds(t=0){if("number"==typeof t)return 1e3*t}getSecondsFromMs(t=0){if("number"==typeof t)return t/1e3}ticksToTime(t){if("number"==typeof t)return this.clamp(t*this.tickRate,0,this.duration)}timeToTicks(t){if("number"==typeof t)return t/this.tickRate}isTicking(){return this.ticking}isPaused(){return this.paused}clamp(t,e,s){return Math.max(e,Math.min(t,s))}generateID(s=7){function t(){let e="";for(let t=0;t<s;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}let e=t();for(;this.storedIDs.includes(e);)e=t();return this.storedIDs.push(e),e}on(t,e){return"function"==typeof e&&this.acceptedEvents.includes(t)&&(this.onHandler[t]||(this.onHandler[t]={}),this.onHandler[t][this.generateID()]=e),this}off(t,e){if(this.onHandler[t])for(const s of Object.keys(this.onHandler[t]))if(e){if(this.onHandler[t][s]===e){delete this.onHandler[t][s],Object.keys(this.onHandler[t]).length||(this.onHandler[t]=null);break}}else delete this.onHandler[t][s];return this}trigger(t,e){if(this.onHandler[t])for(const s of Object.keys(this.onHandler[t]))"function"==typeof this.onHandler[t][s]&&this.onHandler[t][s](e);return this}at(t,e){if("function"==typeof e&&"number"==typeof t){if((t=Math.round(t))>this.duration)return this;this.timeHandler[t]||(this.timeHandler[t]={}),this.timeHandler[t][this.generateID()]=e}return this}removeAt(t,e){if(this.timeHandler[t])for(const s of Object.keys(this.timeHandler[t]))if(e){if(this.timeHandler[t][s]===e){delete this.timeHandler[t][s],Object.keys(this.timeHandler[t]).length||(this.timeHandler[t]=null);break}}else delete this.timeHandler[t][s];return this}atHandler(t){if(this.timeHandler[t])for(const e in this.timeHandler[t])this.timeHandler[t][e]()}every(t,e){if("function"==typeof e&&"number"==typeof t){if((t=Math.max(Math.round(t),this.MIN_TICK_RATE))>this.duration)return this;this.intervalHandler[t]||(this.intervalHandler[t]={}),this.intervalHandler[t][this.generateID()]={startStamp:Date.now(),cb:e}}return this}removeEvery(t,e){if(this.intervalHandler[t])for(const s of Object.keys(this.intervalHandler[t]))if(e){if(this.intervalHandler[t][s]===e){delete this.intervalHandler[t][s],Object.keys(this.intervalHandler[t]).length||(this.intervalHandler[t]=null);break}}else delete this.intervalHandler[t][s];return this}startAt(t){return"number"==typeof t&&this.startAtHandler(t),this}startAtHandler(t){t>=this.duration||t<=0?this.startMs=0:this.startMs=Math.max(Math.round(t),this.tickRate),this.startMs&&this.duration&&(this.duration=Math.max(this.duration-this.startMs,this.tickRate))}startHandler(){var t=Date.now();this.startStamp=t,this.currentTick=1===this.getFlow()?0:this.timeToTicks(this.duration),this.ticking=!0,this.scaledTickRate=this.tickRate/this.timeScale,this.timeoutId=setTimeout(this.adjuster,this.scaledTickRate)}startEveryHandler(){for(const e in this.intervalHandler)for(const s in this.intervalHandler[e]){const i=this.intervalHandler[e][s],r=this;this.intervalHandler[e][s].adjuster||(this.intervalHandler[e][s].adjuster=()=>{var t;r.isTicking()&&(t=Date.now(),(!i.maxCallbackCount||i.callbackCount<=i.maxCallbackCount)&&(i.cb(),i.callbackCount++,i.callbackCount===i.maxCallbackCount)?(r.canFinish=!0,r.eventHandler()):(i.expectedStamp||(i.expectedStamp=t),t-=i.expectedStamp,i.scaledTickRate=i.tickRate/r.timeScale,i.expectedStamp+=i.scaledTickRate,i.adjustedTickRate=i.scaledTickRate-t,i.timeoutId=setTimeout(i.adjuster,i.adjustedTickRate)))});var t=Number(e);this.canFinish=!1,i.tickRate=t,i.scaledTickRate=i.tickRate/this.timeScale,i.callbackCount=0,i.maxCallbackCount=0,this.hasDuration&&(i.maxCallbackCount=Math.floor(this.duration/i.tickRate)),i.timeoutId=setTimeout(i.adjuster,i.scaledTickRate)}}stopEveryHandler(){for(const t in this.intervalHandler)for(const e in this.intervalHandler[t])clearTimeout(this.intervalHandler[t][e].timeoutId)}pauseEveryHandler(){for(const t in this.intervalHandler)for(const e in this.intervalHandler[t])clearTimeout(this.intervalHandler[t][e].timeoutId),this.intervalHandler[t][e].durationBeforeexpectedStamp=this.intervalHandler[t][e].expectedStamp-self.now}resumeEveryHandler(){for(const t in this.intervalHandler)for(const e in this.intervalHandler[t])this.intervalHandler[t][e].expectedStamp=0,this.intervalHandler[t][e].timeoutId=setTimeout(this.intervalHandler[t][e].adjuster,this.intervalHandler[t][e].durationBeforeexpectedStamp)}eventHandler(){this.hasDuration&&(-1===this.flow?this.currentTick<=0&&this.canFinish&&this.rollback():this.getMs()>=this.duration&&this.canFinish&&this.complete())}tick(t){this.currentTick+=+this.flow*this.timeScale,this.trigger("tick",t),this.atHandler(this.getMs())}reverse(){return this.flow*=-1,this}start(){return this.reset(!0),this.trigger("start"),this.startHandler(),this.startEveryHandler(),this}stop(){return this.isTicking()&&(this.stopEveryHandler(),this.reset(!0),this.trigger("stop")),this}pause(){return this.isTicking()&&!this.isPaused()&&(this.pauseEveryHandler(),this.paused=!0,this.trigger("pause")),this}resume(){return this.isTicking()&&this.isPaused()&&(this.resumeEveryHandler(),this.paused=!1,this.lastStamp=0,this.expectedStamp=0,this.trigger("resume")),this}reset(t){return this.currentTick=0,this.ticking=!1,this.paused=!1,this.lastStamp=0,this.startStamp=0,this.canFinish=!0,clearInterval(this.timeoutId),t||this.trigger("reset"),this}destroy(){for(var t in clearTimeout(this.timeoutId),this.trigger("destroy"),this)this.hasOwnProperty(t)&&delete this[t];return this}increase(e){if("number"==typeof e){if(this.isTicking()){let t=this.getMs()+e;if(this.loop&&this.hasDuration)for(;t>this.duration;)this.complete(),(t-=this.duration)<=this.duration&&(this.currentTick=this.timeToTicks(t));else t>=this.duration?this.complete():this.currentTick=this.timeToTicks(t)}return this}}decrease(e){if("number"==typeof e){if(this.isTicking()){let t=this.getMs()-e;if(this.loop&&this.hasDuration)for(;t<0;)this.rollback(),0<=(t+=this.duration)&&(this.currentTick=this.timeToTicks(t));else t<=0?this.rollback():this.currentTick=this.timeToTicks(t)}return this}}complete(){return this.isTicking()&&this.hasDuration&&(this.loop||this.reset(!0),this.completionCount++,this.trigger("complete"),this.loop)&&this.start(),this}rollback(){return this.isTicking()&&this.hasDuration&&(this.loop||this.reset(!0),this.completionCount--,this.trigger("rollback"),this.loop)&&this.start(),this}}var j=D._,V={d:(t,e)=>{for(var s in e)V.o(e,s)&&!V.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},W={},q=(V.d(W,{c:()=>$}),{d:(t,e)=>{for(var s in e)q.o(e,s)&&!q.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),U={};q.d(U,{Y:()=>K});class K{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var Q=U.Y;const $=new class{transitions={};storedIDs=[];version="1.0.0";constructor(){this.logger=new Q,this.logger.registerType("Utils-Module","#ff6600")}decimalRand(t,e,s=1){return 1<=(t=Number((Math.random()*(t-e)+e).toFixed(s)))?Math.floor(t):t}rand(t,e){return t=Number(Math.random()*(t-e)+e),Math.round(t)}getPercentage(t,e){return 100*t/e}clamp(t,e=0,s=1){return Math.max(e,Math.min(t,s))}lerp(t,e,s){return(1-s)*t+s*e}flooredLerp(t,e,s){return Math.floor(this.lerp(t,e,s))}round(t,e=1){return Math.round(e*t)/e}normalize(t,e,s){return s-e==0?1:(t-e)/(s-e)}within(t,e,s){return e<=t&&t<=s}formatIntegerWithCommas(t){return t.toFixed().toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}toRadians(t){return t*(Math.PI/180)}toDegrees(t){return t*(180/Math.PI)}pick(t){return t[Math.floor(Math.random()*t.length)]}removeProperties(t,e){if("object"==typeof t)for(const s in t)Array.isArray(e)&&e.includes(s)||t.hasOwnProperty(s)&&delete t[s]}prob(t){return!(t<=0)&&(100<=t||Math.floor(100*Math.random())+1<=t)}getInverseDirection(t){switch(t){case"north":return"south";case"south":return"north";case"east":return"west";case"west":return"east";case"northeast":return"southwest";case"northwest":return"southeast";case"southeast":return"northwest";case"southwest":return"northeast";default:this.logger.prefix("Utils-Module").error(`The direction ${t} is not supported.`)}}getAngleFromDirection(t){switch(t){case"north":return Math.PI/2;case"south":return 3*Math.PI/2;case"east":return 0;case"west":return Math.PI;case"northwest":return 3*Math.PI/4;case"northeast":return Math.PI/4;case"southwest":return 5*Math.PI/4;case"southeast":return 7*Math.PI/4;default:this.logger.prefix("Utils-Module").error(`The direction ${t} is not supported.`)}}centerRectangleOnParent(t,e,s,i,r,a){return{x:r+(s-t)/2,y:a+(i-e)/2}}getRandomAngle(){return Math.random()*(2*Math.PI)}getAngle(t,e){var s=t.y-e.y;return t=t.x-e.x,Math.atan2(s,t)}getAngle2(t,e){var s=t.y-e.y;return t=t.x-e.x,-1*(Math.atan2(s,t)-Math.PI)}convertRaWAngleToVyloCoords(t){return-1*(t-Math.PI)}getDistance(t,e){var s=t.y-e.y;return t=t.x-e.x,Math.sqrt(t*t+s*s)}calculateNewPositionFromDistanceAndAngle(t,e,s){var i={x:0,y:0};return i.x=t.x-e*Math.cos(s),i.y=t.y-e*Math.sin(s),i}calculateProportionalLength(t,e,s){return t/e*s}getDirection(t){return["east","northeast","north","northwest","west","southwest","south","southeast"][Math.abs(Math.floor(t*(180/Math.PI)/45+.5))%8]}linearDecay(t,e,s,i=.5){return Math.max(t*(1-e/s*i),1)}generateID(s=7){function t(){let e="";for(let t=0;t<s;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}let e=t();for(;this.storedIDs.includes(e);)e=t();return this.storedIDs.push(e),e}decimalToHex(t,e=6){return"#"+(t+Math.pow(16,e)).toString(16).slice(-e).toUpperCase()}addIntensity(t,e){var s=(t=this.grabColor(t).rgbArray)[0],i=t[1];t=t[2];let r=0,a=0,n=0;var o=0===s&&0===i&&0===t;return(s||o)&&(r=s+Math.floor(255*e/100)),(i||o)&&(a=i+Math.floor(255*e/100)),(t||o)&&(n=t+Math.floor(255*e/100)),this.grabColor(this.clamp(r,0,255),this.clamp(a,0,255),this.clamp(n,0,255)).hex}rgbToHex(t,e,s){return"#"+[this.clamp(t,0,255),this.clamp(e,0,255),this.clamp(s,0,255)].map(function(t){return t.toString(16).padStart(2,"0")}).join("")}hexToRgb(t){return t=(t=3===(t=t.replace("#","")).length?t.replace(new RegExp("(.)","g"),"$1$1"):t).match(new RegExp("..","g")),[this.clamp(parseInt(t[0],16),0,255),this.clamp(parseInt(t[1],16),0,255),this.clamp(parseInt(t[2],16),0,255)]}rgbToDecimal(t,e,s){return t<<16|e<<8|s}hexToDecimal(t){return t=t.replace("#",""),parseInt(t,16)}grabColor(t=this.getRandomColor(),e,s){let i,r;return"number"==typeof t&&"number"==typeof e&&"number"==typeof s?i=this.rgbToHex(t,e,s):("number"==typeof t&&(t=this.decimalToHex(t)),i=t,r=this.hexToRgb(i)),{hex:i.toLowerCase(),hexTagless:i.replace("#","").toLowerCase(),rgb:"rgb("+r[0]+","+r[1]+","+r[2]+")",rgbArray:r,rgbObject:{r:r[0],g:r[1],b:r[2]},rgbNormal:[Math.round(r[0]/255*100)/100,Math.round(r[1]/255*100)/100,Math.round(r[2]/255*100)/100],decimal:this.hexToDecimal(i)}}getRandomColor(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}getRandomColorBetween(t,e,s=.5){return this.flooredLerp(this.grabColor(t).decimal,this.grabColor(e).decimal,s)}transitionColor(h,t="#000",e="#fff",l=1e3,s,i){if(globalThis.window){const u="function"==typeof s?s:null,c="function"==typeof i?i:null;let a,n,o;h?(a=h.id||this.generateID(),n="GeneratedParticle"===h.type,o="object"==typeof h.color&&h.color.constructor===Object,this.transitions[a]&&this.cancelTransitionColor(a)):a=this.generateID(),this.transitions[a]={duration:l,timeTracker:n?h.info.lifetime:0};const d=this.grabColor(t).rgbArray,p=this.grabColor(e).rgbArray,m=this;return this.transitions[a].step=t=>{if(m.transitions[a]){if(n){if(!h.info)return void(m.transitions[a]&&this.cancelTransitionColor(a));if(h.info.owner&&h.info.owner.settings.paused)return}m.transitions[a].lastTime||(m.transitions[a].lastTime=t);var e=t-m.transitions[a].lastTime,s=(m.transitions[a].timeTracker+=e,e=Math.min(m.transitions[a].timeTracker/m.transitions[a].duration,1),parseInt(m.lerp(d[0],p[0],e),10)),i=parseInt(m.lerp(d[1],p[1],e),10),r=parseInt(m.lerp(d[2],p[2],e),10),s=m.grabColor(s,i,r);u&&u(s),h&&(o?(h.color.tint=s.decimal,h.color=h.color):h.color=s.hex),1<=e||m.transitions[a].timeTracker>=l?(m.transitions[a]&&this.cancelTransitionColor(a),c&&c(s)):(m.transitions[a].req=globalThis.requestAnimationFrame(m.transitions[a].step),m.transitions[a].lastTime=t)}},this.transitions[a].req=globalThis.requestAnimationFrame(this.transitions[a].step),a}}cancelTransitionColor(t){this.transitions[t]&&(globalThis.cancelAnimationFrame(this.transitions[t].req),delete this.transitions[t])}getPointRotated(t,e,s){var i=t.x+t.width*("object"==typeof t.anchor&&t.anchor.x?t.anchor.x:.5),r=(t=t.y+t.height*("object"==typeof t.anchor&&t.anchor.y?t.anchor.y:.5),s.x-i);return s=s.y-t,{x:r*Math.cos(e)-s*-Math.sin(e)+i,y:r*-Math.sin(e)+s*Math.cos(e)+t}}getPointsOfRotatedRect(t,e){return{tl:this.getPointRotated(t,e,{x:t.x,y:t.y}),tr:this.getPointRotated(t,e,{x:t.x+t.width,y:t.y}),bl:this.getPointRotated(t,e,{x:t.x,y:t.y+t.height}),br:this.getPointRotated(t,e,{x:t.x+t.width,y:t.y+t.height}),center:this.getPointRotated(t,e,{x:t.x+t.width/2,y:t.y+t.height/2})}}calculateIconOffset(t={width:32,height:32},e={x:.5,y:.5},s={x:1,y:1}){var i=t.width*s.x,s=t.height*s.y;return{x:e.x*(i-t.width),y:e.y*(s-t.height)}}};var X=W.c,z={d:(t,e)=>{for(var s in e)z.o(e,s)&&!z.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},Z={},J=(z.d(Z,{Z:()=>rt,O:()=>it}),{d:(t,e)=>{for(var s in e)J.o(e,s)&&!J.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),tt={};J.d(tt,{Y:()=>et});class et{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var st=tt.Y;class it{states={};currentState=null;version="1.0.0";constructor(t){if(this.logger=new st,this.logger.registerType("StateManager-Module","#ff6600"),"object"==typeof t&&!Array.isArray(t))for(const e in t)this.registerState()}registerState(t,e){"string"==typeof t?e instanceof rt?(e.name=t,(this.states[t]=e).manager=this):this.logger.prefix("StateManager-Module").error(e+" is not a valid state."):this.logger.prefix("StateManager-Module").error("Invalid name for state.")}setState(t,...e){var s=this.states[t];s?(this.currentState&&this.currentState.exit(),this.currentState=s,this.currentState.enter(...e)):this.logger.prefix("StateManager-Module").warn(`State ${t} not found.`)}getCurrentState(){return this.currentState?this.currentState.name:null}update(t){this.currentState&&this.currentState.update(t)}}class rt{enter(){}update(t){}exit(){}}var at=Z.Z,nt=Z.O,ot={d:(t,e)=>{for(var s in e)ot.o(e,s)&&!ot.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},ht={},lt=(ot.d(ht,{G:()=>mt}),{d:(t,e)=>{for(var s in e)lt.o(e,s)&&!lt.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)}),ut={};lt.d(ut,{Y:()=>ct});class ct{constructor(t){this.RESET="[0m",this.BRIGHT="[1m",this.DIM="[2m",this.UNDERSCORE="[4m",this.BLINK="[5m",this.REVERSE="[7m",this.HIDDEN="[8m",this.FG_BLACK="[30m",this.FG_RED="[31m",this.FG_GREEN="[32m",this.FG_YELLOW="[33m",this.FG_BLUE="[34m",this.FG_MAGENTA="[35m",this.FG_CYAN="[36m",this.FG_WHITE="[37m",this.FG_GRAY="[90m",this.BG_BLACK="[40m",this.BG_RED="[41m",this.BG_GREEN="[42m",this.BG_YELLOW="[43m",this.BG_BLUE="[44m",this.BG_MAGENTA="[45m",this.BG_CYAN="[46m",this.BG_WHITE="[47m",this.BG_GRAY="[100m",this.TYPE_SPACER_LENGTH=13,this.types={default:this.FG_WHITE},this.currentType="",this.SPACE_CHAR=" ",this.FG_COLORS={};for(let t=0;t<=255;t++)this.FG_COLORS[t]="[38;5;"+t+"m";this.BG_COLORS={};for(let t=0;t<=255;t++)this.BG_COLORS[t]="[48;5;"+t+"m";Array.isArray(t)&&this.registerTypes(t)}prefix(t){return"string"==typeof t&&(this.currentType=t),this}message(e="log",...s){var i=this.currentType||"";if(0===i.length)console[e](...s);else{var r=i.length>=this.TYPE_SPACER_LENGTH;let t=this.types[i.toLowerCase()]?this.types[i.toLowerCase()]:this.types.default;var a=t.includes("");a||(t="color: "+t),!globalThis.window||a?console[e](t+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|"+this.RESET,...s):console[e]("%c"+i+this.SPACE_CHAR.repeat(Math.max(this.TYPE_SPACER_LENGTH-i.length,r?1:0))+"|",t,...s)}this.currentType=""}log(...t){this.message("log",...t)}info(...t){this.message("info",...t)}error(...t){this.message("error",...t)}warn(...t){this.message("warn",...t)}assert(...t){console.assert(...t)}debug(...t){this.message("debug",...t)}count(t){console.count(t)}countReset(t){console.countReset(t)}table(t,e){console.table(t,e)}time(t){this.message("time",t)}timeLog(t){this.message("timeLog",t)}timeEnd(t){this.message("timeEnd",t)}trace(...t){this.message("trace",...t)}group(t){this.message("group",t)}groupCollapsed(t){console.groupCollapsed(t)}groupEnd(){console.groupEnd()}clear(){console.clear()}registerType(t,e){this.types[t]||"string"==typeof t&&"string"==typeof e&&(this.types[t.toLowerCase()]=e)}registerTypes(e){if(Array.isArray(e))for(let t=0;t<e.length;t++)this.registerType(e[t].type,e[t].ansi)}unregisterType(t){this.types[t]&&delete this.types[t]}}var dt=ut.Y;class pt{static tracker={ids:[]};static storedIDs=[];instanceWeakMap=new WeakMap;version="1.0.0";constructor(){this.logger=new dt,this.logger.registerType("PulseComponent-Module","#ff6600")}generateID(s=7){function t(){let e="";for(let t=0;t<s;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}let e=t();for(;pt.storedIDs.includes(e);)e=t();return pt.storedIDs.push(e),e}on(e,s,i){if("function"!=typeof i)this.logger.prefix("PulseComponent-Module").error("pFunction argument is missing or it is not of the function type!");else{let t=this.instanceWeakMap.get(e);t||(t=this.generateID(),this.instanceWeakMap.set(e,t),pt.tracker.ids.push(t),pt.tracker[t]={},pt.tracker[t].listened={}),pt.tracker[t][s]||(pt.tracker[t][s]={counter:0});var r=++pt.tracker[t][s].counter;pt.tracker[t].listened[s]||this.listenForEvent(e,s),pt.tracker[t][s][r]=i,"onNew"===s&&pt.tracker[t][s][r].bind(e)()}}off(t,e,s){if("function"!=typeof s)this.logger.prefix("PulseComponent-Module").error("pFunction argument is missing or it is not of the function type!");else{var i=this.instanceWeakMap.get(t);if(i){for(const t in pt.tracker[i][e])if(pt.tracker[i][e][t]===s)return void delete pt.tracker[i][e][t];this.logger.prefix("PulseComponent-Module").error("This function is not being tracked.")}}}listenForEvent(t,e){let s=t[e];const i=this.instanceWeakMap.get(t);t[e]=function(){"function"==typeof s&&s.apply(t,arguments);for(const s in pt.tracker[i][e])"function"==typeof pt.tracker[i][e][s]&&pt.tracker[i][e][s].apply(t,arguments)},pt.tracker[i].listened[e]=!0}}const mt=new pt;var ft=ht.G,gt={d:(t,e)=>{for(var s in e)gt.o(e,s)&&!gt.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},yt={};gt.d(yt,{Z:()=>Tt});class Tt{collectionWeakMap=new WeakMap;static storedIDs=[];version="1.0.0";constructor(t,e){if(Array.isArray(t)&&(this.collection=[...t],this.collection.forEach(t=>{this.collectionWeakMap.set(t,{id:this.generateID()}),this.collectionWeakMap.set(this.collectionWeakMap.get(t),{})})),"object"==typeof e&&e.constructor===Object)for(const t in e)this.attachMethod(t,e[t])}generateID(s=7){function t(){let e="";for(let t=0;t<s;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}let e=t();for(;Tt.storedIDs.includes(e);)e=t();return Tt.storedIDs.push(e),e}static create(t,e){return new Tt(t,e)}map(t){return this.collection=this.collection.map(t),this}forEach(t){return this.collection.forEach(t),this}toArray(){return[...this.collection]}add(t){return this.collection.includes(t)||(this.collection.push(t),this.collectionWeakMap.set(t,{id:this.generateID()}),this.collectionWeakMap.set(this.collectionWeakMap.get(t),{})),this}remove(t){return this.collection.includes(t)&&(this.collectionWeakMap.has(t)&&(this.collectionWeakMap.has(this.collectionWeakMap.get(t))&&this.collectionWeakMap.delete(this.collectionWeakMap.get(t)),this.collectionWeakMap.delete(t)),this.collection.splice(this.collection.indexOf(t),1)),this}attachMethod(s,e){return this.collection.forEach(t=>{this.collectionWeakMap.get(this.collectionWeakMap.get(t))[s]=e.bind(this)}),this[s]=function(...e){this.collection.forEach(t=>{this.collectionWeakMap.get(this.collectionWeakMap.get(t))[s](t,...e)})},this}}var Et=yt.Z;const Mt=new class{Group=Et;Tween=u;Chronos=j;StateManager=nt;State=at;resonance=x;collector=N;utils=X;pulse=ft;version="1.2.0"},_t="Core@v"+Mt.version;console.log("%c"+_t,"\n  background-color: #435058;\n  color: #fff;\n  padding: 6px 15px;\n  font-family: Arial, sans-serif;\n  font-weight: bold;\n  font-style: italic;\n  border-left: 5px solid #dcf763;\n  text-shadow: rgb(0, 0, 0) 2px 0px 0px, rgb(0, 0, 0) 1.75517px 0.958851px 0px, rgb(0, 0, 0) 1.0806px 1.68294px 0px, rgb(0, 0, 0) 0.141474px 1.99499px 0px, rgb(0, 0, 0) -0.832294px 1.81859px 0px, rgb(0, 0, 0) -1.60229px 1.19694px 0px, rgb(0, 0, 0) -1.97998px 0.28224px 0px, rgb(0, 0, 0) -1.87291px -0.701566px 0px, rgb(0, 0, 0) -1.30729px -1.5136px 0px, rgb(0, 0, 0) -0.421592px -1.95506px 0px, rgb(0, 0, 0) 0.567324px -1.91785px 0px, rgb(0, 0, 0) 1.41734px -1.41108px 0px, rgb(0, 0, 0) 1.92034px -0.558831px 0px;\n","https://github.com/EvitcaStudio/Core");var bt=e.Q;export{bt as Core};